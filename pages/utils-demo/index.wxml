<!-- pages/utils-demo/index.wxml -->
<view class="container">
  <view class="header">
    <text class="title">工具类使用示例</text>
  </view>
  
  <view class="section">
    <view class="section-title">测试结果</view>
    <view class="results-container">
      <scroll-view scroll-y="true" class="results-list">
        <block wx:if="{{results.length > 0}}">
          <view wx:for="{{results}}" wx:key="id" class="result-item">
            <text>{{item.text}}</text>
          </view>
        </block>
        <view wx:else class="empty-results">
          <text>暂无测试结果</text>
        </view>
      </scroll-view>
    </view>
    
    <view class="buttons">
      <button bindtap="clearResults" type="default" size="mini">清空结果</button>
      <button bindtap="testDeepClone" type="primary" size="mini">测试深拷贝</button>
      <button bindtap="testMerge" type="primary" size="mini">测试对象合并</button>
    </view>
  </view>
  
  <view class="section">
    <view class="section-title">表单验证示例</view>
    <view class="form-container">
      <view class="form-item">
        <text class="form-label">用户名:</text>
        <input class="form-input" data-field="username" bindinput="onInputChange" value="{{formData.username}}" placeholder="请输入用户名" />
        <text wx:if="{{formErrors.username}}" class="error-text">{{formErrors.username}}</text>
      </view>
      
      <view class="form-item">
        <text class="form-label">手机号:</text>
        <input class="form-input" data-field="phone" bindinput="onInputChange" value="{{formData.phone}}" placeholder="请输入手机号" />
        <text wx:if="{{formErrors.phone}}" class="error-text">{{formErrors.phone}}</text>
      </view>
      
      <view class="form-item">
        <text class="form-label">邮箱:</text>
        <input class="form-input" data-field="email" bindinput="onInputChange" value="{{formData.email}}" placeholder="请输入邮箱" />
        <text wx:if="{{formErrors.email}}" class="error-text">{{formErrors.email}}</text>
      </view>
      
      <button bindtap="submitForm" type="primary">提交表单</button>
      
      <view wx:if="{{networkResult}}" class="network-result">
        <text>{{networkResult}}</text>
      </view>
    </view>
  </view>
</view>