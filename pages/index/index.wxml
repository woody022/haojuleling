<!--pages/index/index.wxml-->\n<view class=\"container\">\n  <!-- 顶部搜索栏 -->\n  <view class=\"search-bar\">\n    <navigator url=\"/pages/activity/activity?tab=search\" hover-class=\"none\" class=\"search-box\">\n      <image class=\"search-icon\" src=\"/assets/images/icons/search.png\"></image>\n      <text class=\"search-placeholder\">搜索活动、组织、地点</text>\n    </navigator>\n  </view>\n  \n  <!-- 轮播图 -->\n  <view class=\"banner-section\" wx:if=\"{{banners.length > 0}}\">\n    <swiper class=\"banner\" indicator-dots=\"{{true}}\" autoplay=\"{{true}}\" interval=\"{{3000}}\" duration=\"{{500}}\" circular=\"{{true}}\" indicator-color=\"rgba(255, 255, 255, 0.6)\" indicator-active-color=\"#3B82F6\">\n      <block wx:for=\"{{banners}}\" wx:key=\"_id\">\n        <swiper-item bindtap=\"bannerTap\" data-index=\"{{index}}\">\n          <image src=\"{{item.imageUrl}}\" class=\"banner-image\" mode=\"aspectFill\"></image>\n        </swiper-item>\n      </block>\n    </swiper>\n  </view>\n  \n  <!-- 功能入口 -->\n  <view class=\"feature-section\">\n    <view class=\"feature-grid\">\n      <navigator url=\"/packageActivity/pages/activityList/activityList\" class=\"feature-item\">\n        <image class=\"feature-icon\" src=\"/assets/images/icons/activity.png\"></image>\n        <text class=\"feature-text\">全部活动</text>\n      </navigator>\n      <navigator url=\"/packageActivity/pages/activityList/activityList?type=nearby\" class=\"feature-item\">\n        <image class=\"feature-icon\" src=\"/assets/images/icons/nearby.png\"></image>\n        <text class=\"feature-text\">附近活动</text>\n      </navigator>\n      <navigator url=\"/packageActivity/pages/activityCreate/activityCreate\" class=\"feature-item\">\n        <image class=\"feature-icon\" src=\"/assets/images/icons/create.png\"></image>\n        <text class=\"feature-text\">发布活动</text>\n      </navigator>\n      <navigator url=\"/packageActivity/pages/myActivities/myActivities\" class=\"feature-item\">\n        <image class=\"feature-icon\" src=\"/assets/images/icons/my-activity.png\"></image>\n        <text class=\"feature-text\">我的活动</text>\n      </navigator>\n    </view>\n  </view>\n  \n  <!-- 活动分类 -->\n  <view class=\"category-section\" wx:if=\"{{categories.length > 0}}\">\n    <view class=\"section-header\">\n      <text class=\"section-title\">活动分类</text>\n    </view>\n    <scroll-view scroll-x class=\"category-scroll\">\n      <view class=\"category-list\">\n        <view class=\"category-item\" wx:for=\"{{categories}}\" wx:key=\"_id\" bindtap=\"viewCategoryActivities\" data-id=\"{{item._id}}\" data-name=\"{{item.name}}\">\n          <image class=\"category-icon\" src=\"{{item.icon}}\"></image>\n          <text class=\"category-name\">{{item.name}}</text>\n        </view>\n      </view>\n    </scroll-view>\n  </view>\n  \n  <!-- 推荐活动 -->\n  <view class=\"activity-section\">\n    <view class=\"section-header\">\n      <text class=\"section-title\">推荐活动</text>\n      <text class=\"section-more\" bindtap=\"viewMoreActivities\" data-type=\"recommend\">查看更多</text>\n    </view>\n    \n    <view class=\"activity-list\" wx:if=\"{{!loading && recommendActivities.length > 0}}\">\n      <view class=\"activity-card\" wx:for=\"{{recommendActivities}}\" wx:key=\"_id\" bindtap=\"navigateToDetail\" data-id=\"{{item._id}}\">\n        <image class=\"activity-image\" src=\"{{item.coverUrl}}\" mode=\"aspectFill\"></image>\n        <view class=\"activity-info\">\n          <text class=\"activity-title\">{{item.title}}</text>\n          <view class=\"activity-meta\">\n            <view class=\"activity-time\">\n              <image class=\"meta-icon\" src=\"/assets/images/icons/time.png\"></image>\n              <text class=\"meta-text\">{{item.startTime}}</text>\n            </view>\n            <view class=\"activity-location\">\n              <image class=\"meta-icon\" src=\"/assets/images/icons/location.png\"></image>\n              <text class=\"meta-text ellipsis\">{{item.address}}</text>\n            </view>\n          </view>\n          <view class=\"activity-stats\">\n            <text class=\"activity-participants\">{{item.participantsCount || 0}}人参与</text>\n            <text class=\"activity-category\">{{item.categoryName}}</text>\n          </view>\n        </view>\n      </view>\n    </view>\n    \n    <view class=\"empty-tip\" wx:if=\"{{!loading && recommendActivities.length === 0}}\">\n      <image class=\"empty-icon\" src=\"/assets/images/icons/empty.png\"></image>\n      <text class=\"empty-text\">暂无推荐活动</text>\n    </view>\n    \n    <view class=\"loading-container\" wx:if=\"{{loading}}\">\n      <view class=\"spinner\"></view>\n    </view>\n  </view>\n  \n  <!-- 附近活动 -->\n  <view class=\"activity-section\" wx:if=\"{{locationAuth}}\">\n    <view class=\"section-header\">\n      <text class=\"section-title\">附近活动</text>\n      <text class=\"section-more\" bindtap=\"viewMoreActivities\" data-type=\"nearby\">查看更多</text>\n    </view>\n    \n    <view class=\"activity-list\" wx:if=\"{{nearbyActivities.length > 0}}\">\n      <view class=\"activity-card\" wx:for=\"{{nearbyActivities}}\" wx:key=\"_id\" bindtap=\"navigateToDetail\" data-id=\"{{item._id}}\">\n        <image class=\"activity-image\" src=\"{{item.coverUrl}}\" mode=\"aspectFill\"></image>\n        <view class=\"activity-info\">\n          <text class=\"activity-title\">{{item.title}}</text>\n          <view class=\"activity-meta\">\n            <view class=\"activity-time\">\n              <image class=\"meta-icon\" src=\"/assets/images/icons/time.png\"></image>\n              <text class=\"meta-text\">{{item.startTime}}</text>\n            </view>\n            <view class=\"activity-location\">\n              <image class=\"meta-icon\" src=\"/assets/images/icons/location.png\"></image>\n              <text class=\"meta-text ellipsis\">{{item.address}}</text>\n            </view>\n          </view>\n          <view class=\"activity-stats\">\n            <text class=\"activity-participants\">{{item.participantsCount || 0}}人参与</text>\n            <text class=\"activity-distance\">{{item.distance}}km</text>\n          </view>\n        </view>\n      </view>\n    </view>\n    \n    <view class=\"empty-tip\" wx:if=\"{{nearbyActivities.length === 0}}\">\n      <image class=\"empty-icon\" src=\"/assets/images/icons/empty.png\"></image>\n      <text class=\"empty-text\">附近暂无活动</text>\n    </view>\n  </view>\n  \n  <!-- 位置权限提示 -->\n  <view class=\"location-tip\" wx:if=\"{{!locationAuth}}\">\n    <image class=\"location-icon\" src=\"/assets/images/icons/location-off.png\"></image>\n    <text class=\"location-text\">开启位置权限，查看附近活动</text>\n    <button class=\"location-btn\" bindtap=\"requestLocationAuth\">开启</button>\n  </view>\n  \n  <!-- 底部提示 -->\n  <view class=\"footer-tip\">\n    <text class=\"footer-text\">{{motto}}</text>\n  </view>\n  \n  <!-- 底部安全区域 -->\n  <view class=\"safe-bottom-area\"></view>\n</view>